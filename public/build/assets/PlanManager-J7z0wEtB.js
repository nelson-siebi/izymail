import{r as o,u as _,j as e,H as v,a as w}from"./app-B82W_gjJ.js";import{A as y}from"./AppLayout-7foIsNkk.js";import{C as m}from"./Card-B0ZPSl5U.js";import{a as k,B as n,f as P,X as C}from"./Button-Bg4p-rfO.js";import{I as l}from"./Input-3eKUI4VR.js";import{P as E}from"./plus-CNfCDwCk.js";import{T as M}from"./trash-2-9BlKcm5W.js";/* empty css            */import"./send-BLfDOY5k.js";import"./users-YSfvVqQE.js";import"./log-out-CiGKQAke.js";const S=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],z=k("package",S);function O({plans:x}){const[r,d]=o.useState(null),[p,i]=o.useState(!1),{data:t,setData:a,post:u,patch:h,processing:b,errors:A,reset:g}=_({name:"",price:0,max_mails_per_day:1e3,max_attachment_size_mb:10,sandbox_limit:100}),f=s=>{d(s),a({name:s.name,price:s.price,max_mails_per_day:s.max_mails_per_day,max_attachment_size_mb:s.max_attachment_size_mb,sandbox_limit:s.sandbox_limit}),i(!0)},c=()=>{i(!1),d(null),g()},j=s=>{confirm("Supprimer ce plan ?")&&w.delete(`/admin/plans/${s}`)},N=s=>{s.preventDefault(),r?h(`/admin/plans/${r.id}`,{onSuccess:()=>c()}):u("/admin/plans",{onSuccess:()=>c()})};return e.jsxs(y,{title:"Gestion des Plans",children:[e.jsx(v,{title:"Admin - Plans"}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-500 font-bold text-[10px] uppercase tracking-[0.2em] mb-2",children:"Monétisation"}),e.jsx("h2",{className:"text-2xl font-bold text-white uppercase tracking-tight",children:"Offres & Tarifs"})]}),e.jsxs(n,{onClick:()=>i(!0),className:"px-8",children:[e.jsx(E,{className:"mr-2 w-4 h-4"})," CRÉER UN PLAN"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:x.map(s=>e.jsxs(m,{className:"relative flex flex-col group hover:border-indigo-500/30 transition-all bg-slate-950/50 backdrop-blur-xl border border-slate-800",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("div",{className:"p-3 bg-indigo-500/10 border border-indigo-500/20 rounded-xl",children:e.jsx(z,{className:"w-5 h-5 text-indigo-500"})}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-[0.2em]",children:"PRIX MENSUEL"}),e.jsxs("p",{className:"text-2xl font-bold text-white uppercase tracking-tight",children:[P(s.price).split(" ")[0]," ",e.jsx("span",{className:"text-[10px] text-indigo-500 font-bold uppercase tracking-widest",children:"FCFA"})]})]})]}),e.jsx("h3",{className:"text-xl font-bold text-white uppercase tracking-tight mb-8 px-1 border-l-2 border-indigo-500",children:s.name}),e.jsxs("div",{className:"space-y-4 mb-10 flex-1 px-5 py-6 bg-slate-900/30 rounded-2xl border border-slate-800/50",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Envois / Jour"}),e.jsx("span",{className:"text-sm font-bold text-slate-200",children:s.max_mails_per_day?.toLocaleString()})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"PJ Max"}),e.jsxs("span",{className:"text-sm font-bold text-slate-200",children:[s.max_attachment_size_mb," MB"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Sandbox"}),e.jsx("span",{className:"text-sm font-bold text-slate-200",children:s.sandbox_limit})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(n,{variant:"secondary",className:"w-full",onClick:()=>f(s),children:"EDITER"}),e.jsx(n,{variant:"danger",className:"w-full",onClick:()=>j(s.id),children:e.jsx(M,{className:"w-4 h-4"})})]})]},s.id))})]}),p&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 bg-slate-950/80 backdrop-blur-md",children:e.jsxs(m,{className:"w-full max-w-2xl p-10 relative bg-slate-900 border border-slate-800 shadow-3xl",children:[e.jsx("button",{onClick:()=>i(!1),className:"absolute top-8 right-8 p-2 text-slate-500 hover:text-white hover:bg-slate-800 rounded-lg transition-all",children:e.jsx(C,{className:"w-5 h-5"})}),e.jsx("h2",{className:"text-2xl font-bold text-white uppercase tracking-tight mb-10",children:r?"Modifier le Plan":"Nouveau Plan"}),e.jsxs("form",{onSubmit:N,className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsx(l,{label:"Nom du Plan",placeholder:"Premium",value:t.name,onChange:s=>a("name",s.target.value),required:!0}),e.jsx(l,{label:"Prix (FCFA)",type:"number",placeholder:"5000",value:t.price,onChange:s=>a("price",s.target.value),required:!0}),e.jsx(l,{label:"Mails / Jour",type:"number",placeholder:"5000",value:t.max_mails_per_day,onChange:s=>a("max_mails_per_day",s.target.value),required:!0}),e.jsx(l,{label:"PJ Max (MB)",type:"number",placeholder:"10",value:t.max_attachment_size_mb,onChange:s=>a("max_attachment_size_mb",s.target.value),required:!0}),e.jsx(l,{label:"Limite Sandbox",type:"number",placeholder:"100",value:t.sandbox_limit,onChange:s=>a("sandbox_limit",s.target.value),required:!0})]}),e.jsx(n,{type:"submit",size:"xl",className:"w-full uppercase tracking-widest text-xs font-bold",disabled:b,children:r?"METTRE À JOUR":"CRÉER LE PLAN"})]})]})})]})}export{O as default};
