import{b as u,u as h,j as e,H as g}from"./app-B82W_gjJ.js";import{A as j}from"./AppLayout-7foIsNkk.js";import{C as b}from"./Card-B0ZPSl5U.js";import{a as f,B as N,S as v}from"./Button-Bg4p-rfO.js";import{I as n}from"./Input-3eKUI4VR.js";import{T as w}from"./Textarea-5IaFwSY4.js";import{S as y}from"./send-BLfDOY5k.js";import{C as k}from"./circle-x-CgQjazXL.js";import{C}from"./circle-alert-DDOfK0mY.js";/* empty css            */import"./users-YSfvVqQE.js";import"./log-out-CiGKQAke.js";const S=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],M=f("upload",S);function Q(){const{auth:c}=u().props,i=!c.user?.plans?.find(s=>s.pivot?.is_active),{data:t,setData:a,post:d,processing:o,errors:l,reset:m}=h({to:"",subject:"",content:"",sandbox:!1,attachments:[]}),x=s=>{s.preventDefault(),d("/send",{onSuccess:()=>m()})};return e.jsxs(j,{title:"Composer un Mail",children:[e.jsx(g,{title:"Envoyer un Email"}),e.jsx("div",{className:"max-w-4xl",children:e.jsxs("form",{onSubmit:x,className:"space-y-8",children:[e.jsxs(b,{className:"p-10",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[e.jsx(n,{label:"Destinataire",type:"email",placeholder:"client@exemple.afrique",value:t.to,onChange:s=>a("to",s.target.value),error:l.to,required:!0}),e.jsx(n,{label:"Objet du message",type:"text",placeholder:"Confirmation de commande...",value:t.subject,onChange:s=>a("subject",s.target.value),error:l.subject,required:!0})]}),e.jsx("div",{className:"mb-8",children:e.jsx(w,{label:"Contenu HTML",placeholder:"<h1>Bonjour</h1>...",value:t.content,onChange:s=>a("content",s.target.value),error:l.content,className:"min-h-[400px] font-mono text-sm",required:!0})}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8 pt-8 border-t border-slate-800/50",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-4 cursor-pointer group",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"checkbox",checked:t.sandbox,onChange:s=>a("sandbox",s.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-12 h-6 bg-slate-800 rounded-full peer-checked:bg-indigo-500 transition-all shadow-inner"}),e.jsx("div",{className:"absolute left-1 top-1 w-4 h-4 bg-white rounded-full transition-transform peer-checked:translate-x-6 shadow-md"})]}),e.jsx("span",{className:"text-[10px] font-bold text-slate-500 group-hover:text-white transition-colors uppercase tracking-widest",children:"Mode Sandbox"})]}),e.jsx("div",{className:"h-6 w-px bg-slate-800"}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[e.jsx(M,{className:"w-4 h-4 text-slate-500 group-hover:text-indigo-400"}),e.jsx("span",{className:"text-[10px] font-bold text-slate-500 group-hover:text-white transition-colors uppercase tracking-widest",children:"Pièces Jointes"}),e.jsx("input",{type:"file",multiple:!0,className:"hidden",onChange:s=>{const r=Array.from(s.target.files);a("attachments",r)}})]})]}),e.jsxs("div",{className:"md:ml-auto",children:[e.jsxs(N,{type:"submit",size:"lg",className:"min-w-[200px]",disabled:o,children:[o?"ENVOI...":"ENVOYER",!o&&e.jsx(y,{className:"ml-2 w-4 h-4"})]}),i&&!t.sandbox&&e.jsx("p",{className:"text-[10px] font-bold text-indigo-500 uppercase mt-3 tracking-widest text-center",children:"Quota : 100 mails / jour"})]})]}),t.attachments.length>0&&e.jsx("div",{className:"mt-6 flex flex-wrap gap-3",children:t.attachments.map((s,r)=>e.jsxs("div",{className:"px-4 py-2 bg-slate-800 rounded-xl border border-slate-700 flex items-center gap-2 group",children:[e.jsx("span",{className:"text-xs font-bold text-slate-400 max-w-[150px] truncate",children:s.name}),e.jsx("button",{type:"button",onClick:()=>a("attachments",t.attachments.filter((E,p)=>p!==r)),className:"text-red-500 hover:text-red-400 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(k,{className:"w-4 h-4"})})]},r))})]}),i&&!t.sandbox&&e.jsxs("div",{className:"p-6 bg-indigo-500/5 border border-indigo-500/20 rounded-3xl flex items-start gap-4 shadow-sm",children:[e.jsx(v,{className:"w-5 h-5 text-indigo-500 shrink-0"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[10px] font-bold text-indigo-500 uppercase tracking-wider",children:"Quota Gratuit"}),e.jsxs("p",{className:"text-xs font-medium text-slate-400 leading-relaxed uppercase tracking-widest",children:["Limitée à 100 envois par jour. Pour plus, passez à un ",e.jsx("a",{href:"/subscription",className:"text-indigo-400 underline hover:text-indigo-300 transition-colors",children:"Plan Premium"}),"."]})]})]}),t.sandbox&&e.jsxs("div",{className:"p-6 bg-yellow-500/5 border border-yellow-500/20 rounded-3xl flex items-start gap-4 shadow-sm",children:[e.jsx(C,{className:"w-5 h-5 text-yellow-500 shrink-0"}),e.jsxs("p",{className:"text-xs font-medium text-yellow-500/70 leading-relaxed uppercase tracking-wider",children:["Mode ",e.jsx("span",{className:"text-yellow-500 font-bold",children:"Sandbox"})," : Les emails ne seront pas envoyés réellement."]})]})]})})]})}export{Q as default};
